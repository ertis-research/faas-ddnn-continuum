---
toc: true
toc-own-page: true
author: [Altair Bueno]
title: FaaS on a controlled environment
---

<!--
recursos:
  - https://dl.acm.org/doi/10.1145/3565382.3565878
notas:
  - Debería separar fission, openfaas etc por secciones? CLI, instalación, UX, rendimiento....
    - CLI
    - Instalación
    - UX
    - Rendimiento
    - Triggers
    - Features diferenciadoras
  - Deberían ser minimo 6 páginas del template

-->

# Introduction

In the recent years, FaaS (Functions as a Service) has proven to be a valid
alternative approach to traditional cloud computing. It's stateless nature
allows them to scale horizontally on-demand by reacting to events, which
translates to multiple instances running under heavy load, or no instances at
all. This automatic scaling is cost-effective, and empowers developers to focus
on solving problems instead of worrying about the underlying infrastructure.

Several Internet of Things (IoT) applications require efficient and flexible
cloud computing solutions that can react to handle the large and unpredictable
flows of data generated by the connected devices

While major cloud providers offer proprietary FaaS platforms, these are often
vendor-specific and lack flexibility. This document provides a general overview
of several open-source FaaS platforms and their potential applications in the
context of IoT

# OpenFaaS [^1]

It's a Kubernetes-native serverless platform featured on the Cloud Native
Landscape. It's licensed under the MIT license and it currently holds the title
for most stars of any installable serverless platform in GitHub, with over 22k
stars[^2]. OpenFaaS also offers a paid version, OpenFaaS Pro, which builds upon
the open source project to deliver some additional features and commercial
support

[^1]: https://www.openfaas.com/
[^2]: https://github.com/openfaas/faas

## Installation

The platform can be deployed to any certified Kubernetes distribution or a
single host. For our purposes, we decided to deploy the full OpenFaaS platform
on a Kubernetes cluster. The platform can be installed using Helm or Arkade
charts, allowing for customization on the installation.

The installation guide[^3] also provides instructions on how to install
`faas-cli`, a Command Line Interface (CLI) available on Linux, Windows and
macOS. It's a single executable that provides developers with a friendly
interface to develop serverless functions, as well as operators to manage the
OpenFaaS Gateway

[^3]: https://docs.openfaas.com/deployment/

## Developing OpenFaaS functions

OpenFaaS documentation includes multiple tutorials and learning resources that
ease the learning curve. For example, the "First Python Function"[^4] tutorial
is straightforward and covers step by step everything required to deploy a
Python function with dependencies from scratch. The development workflow usually
involves these steps:

1. **Pull a template from the store**. `faas-cli` has this concept called
   _templates_, which makes posible to scaffold a whole OpenFaaS function with
   one command.
2. **Modify the OpenFaaS stack file**: Each function comes with a YAML
   description file used by `faas-cli` to deploy de function. The developer can
   enable certain configuration options by modifying this file. Commonly used
   options include environment variables, secrets and build options
3. **Modify the source code**
4. **Deploy the function to OpenFaaS Gateway**: Use the `faas-cli up` command to
   deploy the function

What makes OpenFaaS so effortless to get started is the abstraction of the
underlying technologies. In fact, cognizance about OpenFaaS itself isn't
mandatory. A developer can create a function and update both the source code and
the stack file at any point in the future, meaning the only required steps for
deploying a function are pulling the template and deploying the function. Of
course, you will eventually need to acquire this knowledge in order to create
any meaningful function (for example, providing environment variables or
secrets), but is not a cost you pay upfront

[^4]: https://docs.openfaas.com/tutorials/first-python-function/

## Templates and the store

The `faas-cli` includes a template engine built-in that can generate a new
OpenFaaS project in a given programming language[^5]. There are multiple
programming languages officially supported, including popular ones such as
Python, JavaScript, Ruby or Java. These usually come with multiple flavors that
include extra dependencies or switch the base docker image. There is also a
vibrant ecosystem of community maintained templates, which enables developers to
create functions on other languages not officially supported by the OpenFaaS
team. These templates are shared using the OpenFaaS store, which serves as
template manager

[^5]: https://docs.openfaas.com/cli/templates/#templates

## Function lifecycle

<!-- https://docs.openfaas.com/architecture/invocations/ -->

<!--
- How the functions are created
- Cuanto tiempo duran las funciones en ejecución
-->

# Fission

Another Kubernetes-native serverless platform, also featured on the Cloud Native
Landscape. It's licensed under the Apache 2.0 license and has 7.4k stars on
GitHub. It offers an interesting concept called _environments_, which are a set
of running containers with a small dynamic loader ready to launch functions.
This allows for functions to start immediately, reducing the latencies for cold
starts

## Installation

Fission can be installed using Helm charts or Kubernetes objects, although Helm
allows more features to be enabled. This is important, as the base Fission
installation only includes the core components required for developing and
testing functions. This results on a smaller control plane, but requires the
operator to enable each feature individually. For example, the Kafka event
trigger requires KEDA installed on the cluster, as well as enabling the KEDA
integration on Fission.

The installation guide also provides instructions on how to install `fission`,
the CLI for managing functions on Linux, Windows and macOS

<!--TODO More information about the CLI-->

# OpenWhisk

A serverless platform from the Apache foundation, licensed under the Apache 2.0
license. It has the least amount of stars on GitHub of all three platforms, with
5.9k, but it offers some interesting features not available on neither Fission
or OpenFaaS

## Installation

It can be installed through Docker, Kubernetes, Vagrant or directly on a host
machine
